<!DOCTYPE html>
<html>
	<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta
		content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
		name="viewport"
	/>
	<title>Drops</title>
	
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

	<body>
		<div class="sidebar">
	<div class="sidebar-header">
		<div class="blog-avatar">
			<img src="/css/images/avatar.jpg" alt="avatar" />
		</div>
		<div class="blog-title">
			<a href="/" class="title">Drops</a>
			<a href="/" class="sub-title">Ashes to ashes,dust to dust.</a>
		</div>
	</div>

	<nav class="navbar">
		<ul class="menu">
			
			<li class="menu-item">
				<a href="/" class="menu-item-link">
					首页
				</a>
			</li>
			
			<li class="menu-item">
				<a href="/archives" class="menu-item-link">
					归档
				</a>
			</li>
			
			<li class="menu-item">
				<a href="/category" class="menu-item-link">
					分类
				</a>
			</li>
			
			<li class="menu-item">
				<a href="/tag" class="menu-item-link">
					标签
				</a>
			</li>
			
			<li class="menu-item">
				<a href="https://github.com/rivers-guitar" target="_blank" rel="noopener" class="menu-item-link">
					友链
				</a>
			</li>
			
		</ul>
	</nav>
</div>

		<div class="content-card">
			<article class="post">
	<div class="post-title">
		<h2 class="title">vue项目中使用eslint+prettier规范与检查代码</h2>
	</div>
	<div class="post-meta">
		<span class="post-time iconfont icon-shijian1">&nbsp;2020-01-16</span>
		<span class="iconfont icon-leibieguanli_icox">&nbsp;code</span>
		<span class="iconfont icon-biaoqian">&nbsp;Javascript</span>
	</div>
	<div class="post-content">
		<h3 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h3><blockquote>
<p>&emsp;&emsp;在团队协作中，为避免低级 Bug、以及团队协作时不同代码风格对彼此造成的困扰与影响，会预先制定编码规范。使用 Lint 工具和代码风格检测工具，则可以辅助编码规范执行，有效控制代码质量。EsLint 则是其中一个很好的工具。</p>
<p>EsLint 提供以下支持：</p>
<ul>
<li>ES6</li>
<li>AngularJS</li>
<li>JSX</li>
<li>Style 检查</li>
<li>自定义错误和提示</li>
</ul>
<p>EsLint 提供以下几种校验：</p>
<ul>
<li>语法错误校验</li>
<li>不重要或丢失的标点符号，如分号</li>
<li>未被使用的参数提醒</li>
<li>漏掉的结束符，如}</li>
<li>确保样式的统一规则，如 sass 或者 less</li>
<li>检查变量的命名</li>
<li>影响性能的代码提醒，如 v-if 和 v-for 同时使用</li>
</ul>
</blockquote>
<h3 id="2-eslint-配置"><a href="#2-eslint-配置" class="headerlink" title="2.eslint 配置"></a>2.eslint 配置</h3><h4 id="2-1-代码规范"><a href="#2-1-代码规范" class="headerlink" title="2.1 代码规范"></a>2.1 代码规范</h4><blockquote>
<p>&emsp;&emsp;本项目基本规范是依托于 vue 官方的 <a href="https://github.com/vuejs/eslint-plugin-vue" target="_blank" rel="noopener">eslint-plugin-vue</a>。并使用 Prettier 格式化代码，使样式与规则保持一致。</p>
<p>.eslintrc.js 配置如下：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">&#123;<br><span class="hljs-attr">root</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 当前配置为根配置，将不再从上级文件夹查找配置</span><br><span class="hljs-attr">parserOptions</span>: &#123;<br>  <span class="hljs-attr">parser</span>: <span class="hljs-string">'babel-eslint'</span>,  <span class="hljs-comment">// 采用 babel-eslint 作为语法解析器</span><br>  <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,   <span class="hljs-comment">// 指定来源的类型，有两种script或module</span><br>  <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">6</span>, <span class="hljs-comment">//指定ECMAScript支持的版本，6为ES6</span><br>&#125;,<br><span class="hljs-attr">env</span>: &#123;<br>  <span class="hljs-attr">browser</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// 设置为所需检查的代码是在浏览器环境运行的</span><br>  <span class="hljs-attr">es6</span>: <span class="hljs-literal">true</span>  <span class="hljs-comment">// 设置所需检查代码为 es6 语法书写</span><br>&#125;,<br><span class="hljs-attr">extends</span>: [<span class="hljs-string">'plugin:vue/recommended'</span>, <span class="hljs-string">'eslint:recommended'</span>],<span class="hljs-comment">// 扩展使用 vue 检查规则和eslint推荐规则</span><br>  <span class="hljs-attr">rules</span>: &#123;<br>    <span class="hljs-string">'vue/attribute-hyphenation'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 忽略属性连字</span><br>    <span class="hljs-string">'vue/max-attributes-per-line'</span>:[<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">singleline</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">multiline</span>: &#123; <span class="hljs-attr">max</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">allowFirstLine</span>: <span class="hljs-literal">false</span> &#125; &#125;], <span class="hljs-comment">// 每行最大属性</span><br>    <span class="hljs-string">'vue/singleline-html-element-content-newline'</span>: <span class="hljs-string">'off'</span>, <span class="hljs-comment">// 单行html元素内容在新的一行</span><br>    <span class="hljs-string">'vue/multiline-html-element-content-newline'</span>: <span class="hljs-string">'off'</span>, <span class="hljs-comment">// 多行html元素内容在新的一行</span><br>    <span class="hljs-string">'vue/html-closing-bracket-newline'</span>: <span class="hljs-string">'off'</span>, <span class="hljs-comment">// html右括号在新的一行</span><br>    <span class="hljs-string">'vue/no-v-html'</span>: <span class="hljs-string">'off'</span>, <span class="hljs-comment">// 不使用v-html</span><br>    <span class="hljs-string">'vue/html-self-closing'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 忽略html标签自闭合</span><br>    <span class="hljs-string">'accessor-pairs'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 应同时设置setter和getter</span><br>    <span class="hljs-string">'arrow-spacing'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">before</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">after</span>: <span class="hljs-literal">true</span> &#125;], <span class="hljs-comment">// 箭头间距</span><br>    <span class="hljs-string">'vue/require-default-prop'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 不检查默认属性</span><br>    <span class="hljs-string">'vue/require-prop-types'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 不检查默认类型</span><br>    <span class="hljs-string">'block-spacing'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>], <span class="hljs-comment">// 块间距</span><br>    <span class="hljs-string">'brace-style'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'1tbs'</span>, &#123; <span class="hljs-attr">allowSingleLine</span>: <span class="hljs-literal">true</span> &#125;], <span class="hljs-comment">// 大括号样式允许单行</span><br>    <span class="hljs-string">'camelcase'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">properties</span>: <span class="hljs-string">'always'</span> &#125;], <span class="hljs-comment">//为属性强制执行驼峰命名</span><br>    <span class="hljs-string">'comma-dangle'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// 逗号不使用悬挂</span><br>    <span class="hljs-string">'comma-spacing'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">before</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">after</span>: <span class="hljs-literal">true</span> &#125;], <span class="hljs-comment">// 逗号间距</span><br>    <span class="hljs-string">'comma-style'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'last'</span>], <span class="hljs-comment">//（默认）与数组元素，对象属性或变量声明在同一行之后和同一行需要逗号</span><br>    <span class="hljs-string">'constructor-super'</span>: <span class="hljs-number">2</span>,<br>    <span class="hljs-string">'consistent-this'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'that'</span>], <span class="hljs-comment">//强制this别名为that</span><br>    <span class="hljs-string">'curly'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'multi-line'</span>], <span class="hljs-comment">// 当一个块只包含一条语句时，不允许省略花括号。</span><br>    <span class="hljs-string">'dot-location'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'property'</span>], <span class="hljs-comment">//成员表达式中的点应与属性部分位于同一行</span><br>    <span class="hljs-string">'eol-last'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 强制文件以换行符结束（LF）</span><br>    <span class="hljs-string">'eqeqeq'</span>: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'always'</span>, &#123; <span class="hljs-attr">null</span>: <span class="hljs-string">'ignore'</span> &#125;], <span class="hljs-comment">// 强制使用全等</span><br>    <span class="hljs-string">'generator-star-spacing'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">before</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">after</span>: <span class="hljs-literal">true</span> &#125;], <span class="hljs-comment">// 生成器中'*'两侧都要有间距</span><br>    <span class="hljs-string">'global-require'</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 所有调用require()都位于模块的顶层</span><br>    <span class="hljs-string">'indent'</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, &#123; <span class="hljs-attr">SwitchCase</span>: <span class="hljs-number">2</span> &#125;], <span class="hljs-comment">//缩进风格</span><br>    <span class="hljs-string">'key-spacing'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">beforeColon</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">afterColon</span>: <span class="hljs-literal">true</span> &#125;], <span class="hljs-comment">// 强制在对象字面量属性中的键和值之间保持一致的间距</span><br>    <span class="hljs-string">'keyword-spacing'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">before</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">after</span>: <span class="hljs-literal">true</span> &#125;], <span class="hljs-comment">// 关键字如if/function等的间距</span><br>    <span class="hljs-string">'new-cap'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">newIsCap</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">capIsNew</span>: <span class="hljs-literal">false</span> &#125;],<span class="hljs-comment">// 允许在没有new操作符的情况下调用大写启动的函数;（默认）要求new使用大写启动函数调用所有操作符</span><br>    <span class="hljs-string">'new-parens'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// JavaScript通过new关键字调用函数时允许省略括号</span><br>    <span class="hljs-string">'no-array-constructor'</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 不允许使用Array构造函数。除非要指定生成数组的长度</span><br>    <span class="hljs-string">'no-console'</span>: process.env.NODE_ENV === <span class="hljs-string">'production'</span> ? <span class="hljs-string">'error'</span> : <span class="hljs-string">'off'</span>, <span class="hljs-comment">// 只有开发环境可以使用console</span><br>    <span class="hljs-string">'no-class-assign'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许修改类声明的变量</span><br>    <span class="hljs-string">'no-const-assign'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不能修改使用const关键字声明的变量</span><br>    <span class="hljs-string">'no-control-regex'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 不允许正则表达式中的控制字符</span><br>    <span class="hljs-string">'no-debugger'</span>: process.env.NODE_ENV === <span class="hljs-string">'production'</span> ? <span class="hljs-string">'error'</span> : <span class="hljs-string">'off'</span>, <span class="hljs-comment">// 只有开发环境可以使用debugger</span><br>    <span class="hljs-string">'no-delete-var'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在变量上使用delete操作符</span><br>    <span class="hljs-string">'no-dupe-args'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在函数声明或表达式中使用重复的参数名称</span><br>    <span class="hljs-string">'no-dupe-class-members'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在类成员中使用重复的参数名称</span><br>    <span class="hljs-string">'no-dupe-keys'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在对象文字中使用重复键</span><br>    <span class="hljs-string">'no-duplicate-case'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在switch语句的case子句中使用重复的测试表达式</span><br>    <span class="hljs-string">'no-empty-character-class'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在正则表达式中使用空字符类</span><br>    <span class="hljs-string">'no-empty-pattern'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许空块语句</span><br>    <span class="hljs-string">'no-eval'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许使用eval</span><br>    <span class="hljs-string">'no-ex-assign'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在catch子句中重新分配例外</span><br>    <span class="hljs-string">'no-extend-native'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许直接修改内建对象的原型</span><br>    <span class="hljs-string">'no-extra-boolean-cast'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 禁止不必要的布尔转换</span><br>    <span class="hljs-string">'no-extra-parens'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'functions'</span>], <span class="hljs-comment">// 仅在函数表达式附近禁止不必要的括号</span><br>    <span class="hljs-string">'no-fallthrough'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//消除一个案件无意中掉到另一个案件</span><br>    <span class="hljs-string">'no-floating-decimal'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//消除浮点小数点，并在数值有小数点但在其之前或之后缺少数字时发出警告</span><br>    <span class="hljs-string">'no-func-assign'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 允许重新分配function声明</span><br>    <span class="hljs-string">'no-implied-eval'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 消除隐含eval()</span><br>    <span class="hljs-string">'no-inner-declarations'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'functions'</span>], <span class="hljs-comment">// 不允许function嵌套块中的声明</span><br>    <span class="hljs-string">'no-invalid-regexp'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//不允许RegExp构造函数中的无效正则表达式字符串</span><br>    <span class="hljs-string">'no-irregular-whitespace'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//捕获无效的空格</span><br>    <span class="hljs-string">'no-iterator'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//消除阴影变量声明</span><br>    <span class="hljs-string">'no-label-var'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//禁止创建与范围内的变量共享名称的标签</span><br>    <span class="hljs-string">'no-labels'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">allowLoop</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">allowSwitch</span>: <span class="hljs-literal">false</span> &#125;], <span class="hljs-comment">// 消除 JavaScript 中使用带标签的语句</span><br>    <span class="hljs-string">'no-lone-blocks'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//消除脚本顶层或其他块中不必要的和可能混淆的块</span><br>    <span class="hljs-string">'no-mixed-spaces-and-tabs'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许使用混合空格和制表符进行缩进</span><br>    <span class="hljs-string">'no-multi-spaces'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 禁止在逻辑表达式，条件表达式，声明，数组元素，对象属性，序列和函数参数周围使用多个空格</span><br>    <span class="hljs-string">'no-multi-str'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 防止使用多行字符串</span><br>    <span class="hljs-string">'no-multiple-empty-lines'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">max</span>: <span class="hljs-number">1</span> &#125;], <span class="hljs-comment">// 最多一个空行</span><br>    <span class="hljs-string">'no-native-reassign'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许修改只读全局变量</span><br>    <span class="hljs-string">'no-new-object'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许使用Object构造函数</span><br>    <span class="hljs-string">'no-new-require'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 消除new require表达的使用</span><br>    <span class="hljs-string">'no-new-symbol'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 防止Symbol与new 同时使用的意外错误</span><br>    <span class="hljs-string">'no-new-wrappers'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 杜绝使用String，Number以及Boolean与new操作</span><br>    <span class="hljs-string">'no-obj-calls'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许调用Math，JSON和Reflect对象作为功能</span><br>    <span class="hljs-string">'no-octal'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许使用八进制文字</span><br>    <span class="hljs-string">'no-octal-escape'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许字符串文字中的八进制转义序列</span><br>    <span class="hljs-string">'no-path-concat'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 防止 Node.js 中的目录路径字符串连接无效</span><br>    <span class="hljs-string">'no-redeclare'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 消除在同一范围内具有多个声明的变量</span><br>    <span class="hljs-string">'no-regex-spaces'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 在正则表达式文字中不允许有多个空格</span><br>    <span class="hljs-string">'no-return-assign'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'except-parens'</span>], <span class="hljs-comment">// 消除return陈述中的任务，除非用括号括起来</span><br>    <span class="hljs-string">'no-self-assign'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 消除自我分配</span><br>    <span class="hljs-string">'no-self-compare'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 禁止比较变量与自身</span><br>    <span class="hljs-string">'no-sequences'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 禁止使用逗号运算符</span><br>    <span class="hljs-string">'no-sparse-arrays'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许稀疏数组文字</span><br>    <span class="hljs-string">'no-this-before-super'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 在呼call前标记this/super关键字super()</span><br>    <span class="hljs-string">'no-throw-literal'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许抛出不可能是Error对象的文字和其他表达式</span><br>    <span class="hljs-string">'no-trailing-spaces'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许在行尾添加尾随空白</span><br>    <span class="hljs-string">'no-undef'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 任何对未声明的变量的引用都会导致错误</span><br>    <span class="hljs-string">'no-undef-init'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 消除初始化为undefined的变量声明</span><br>    <span class="hljs-string">'no-underscore-dangle'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 标识符不能以_开头或结尾</span><br>    <span class="hljs-string">'no-unexpected-multiline'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许混淆多行表达式</span><br>    <span class="hljs-string">'no-unmodified-loop-condition'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 查找循环条件内的引用，然后检查这些引用的变量是否在循环中被修改</span><br>    <span class="hljs-string">'no-unneeded-ternary'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">defaultAssignment</span>: <span class="hljs-literal">false</span> &#125;], <span class="hljs-comment">// 不允许将条件表达式作为默认的分配模式</span><br>    <span class="hljs-string">'no-unreachable'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许可达代码return，throw，continue，和break语句后面还有语句。</span><br>    <span class="hljs-string">'no-unsafe-finally'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 不允许return，throw，break，和continue里面的语句finally块</span><br>    <span class="hljs-string">'no-unused-vars'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">vars</span>: <span class="hljs-string">'all'</span>, <span class="hljs-attr">args</span>: <span class="hljs-string">'after-used'</span> &#125;],<br>    <span class="hljs-comment">// 消除未使用的变量，函数和函数的参数</span><br>    <span class="hljs-comment">// vars: 'all' 检查所有变量的使用情况，包括全局范围内的变量。这是默认设置。 args: 'after-used'  只有最后一个参数必须使用。例如，这允许您为函数使用两个命名参数，并且只要您使用第二个参数，ESLint 就不会警告您第一个参数。这是默认设置。</span><br>    <span class="hljs-string">'no-useless-call'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 标记使用情况，Function.prototype.call()并且Function.prototype.apply()可以用正常的函数调用来替代</span><br>    <span class="hljs-string">'no-useless-computed-key'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 禁止不必要地使用计算属性键</span><br>    <span class="hljs-string">'no-useless-constructor'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 在不改变类的工作方式的情况下安全地移除的类构造函数</span><br>    <span class="hljs-string">'no-useless-escape'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 禁用不必要的转义字符</span><br>    <span class="hljs-string">'no-whitespace-before-property'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 如果对象的属性位于同一行上，不允许围绕点或在开头括号之前留出空白</span><br>    <span class="hljs-string">'no-with'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//禁用with</span><br>    <span class="hljs-string">'no-var'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 禁用var</span><br>    <span class="hljs-string">'one-var'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">initialized</span>: <span class="hljs-string">'never'</span> &#125;], <span class="hljs-comment">// 强制将变量声明为每个函数（对于var）或块（对于let和const）范围一起声明或单独声明。 initialized: 'never' 每个作用域要求多个变量声明用于初始化变量</span><br>    <span class="hljs-string">'operator-linebreak'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'after'</span>, &#123; <span class="hljs-attr">overrides</span>: &#123; <span class="hljs-string">'?'</span>: <span class="hljs-string">'before'</span>, <span class="hljs-string">':'</span>: <span class="hljs-string">'before'</span> &#125; &#125;], <span class="hljs-comment">// 实施一致的换行</span><br>    <span class="hljs-string">'padded-blocks'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// 在块内强制执行一致的空行填充</span><br>    <span class="hljs-string">'prefer-destructuring'</span>: [<span class="hljs-string">'error'</span>, &#123; <span class="hljs-attr">object</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">array</span>: <span class="hljs-literal">false</span> &#125;], <span class="hljs-comment">// 此规则强制使用解构而不是通过成员表达式访问属性。</span><br>    <span class="hljs-string">'quotes'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'single'</span>, &#123; <span class="hljs-attr">avoidEscape</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">allowTemplateLiterals</span>: <span class="hljs-literal">true</span> &#125;],<span class="hljs-comment">// avoidEscape: true 允许字符串使用单引号或双引号，只要字符串包含必须以其他方式转义的引号 ;allowTemplateLiterals: true 允许字符串使用反引号</span><br>    <span class="hljs-string">'radix'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//parseInt必须指定第二个参数</span><br>    <span class="hljs-string">'semi'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// 不使用分号</span><br>    <span class="hljs-string">'semi-spacing'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">before</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">after</span>: <span class="hljs-literal">true</span> &#125;], <span class="hljs-comment">// 强制分号间隔</span><br>    <span class="hljs-string">'space-before-blocks'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>], <span class="hljs-comment">// 块必须至少有一个先前的空间</span><br>    <span class="hljs-string">'space-before-function-paren'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// 在(参数后面不允许任何空格</span><br>    <span class="hljs-string">'space-in-parens'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// 禁止或要求（或）左边的一个或多个空格</span><br>    <span class="hljs-string">'space-infix-ops'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 强制二元运算符左右各有一个空格</span><br>    <span class="hljs-string">'space-unary-ops'</span>: [<span class="hljs-number">2</span>, &#123; <span class="hljs-attr">words</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">nonwords</span>: <span class="hljs-literal">false</span> &#125;],<span class="hljs-comment">//  words: true  如：new，delete，typeof，void，yield 左右必须有空格 //  nonwords: false  一元运算符，如：-，+，--，++，!，!!左右不能有空格</span><br>    <span class="hljs-string">'spaced-comment'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>, &#123; <span class="hljs-attr">markers</span>: [<span class="hljs-string">'global'</span>, <span class="hljs-string">'globals'</span>, <span class="hljs-string">'eslint'</span>, <span class="hljs-string">'eslint-disable'</span>, <span class="hljs-string">'*package'</span>, <span class="hljs-string">'!'</span>, <span class="hljs-string">','</span>] &#125;], <span class="hljs-comment">// 注释开始后，此规则将强制间距的一致性//或/*</span><br>    <span class="hljs-string">'template-curly-spacing'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>], <span class="hljs-comment">// 不允许大括号内的空格</span><br>    <span class="hljs-string">'use-isnan'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//禁止比较时使用NaN，只能用isNaN()</span><br>    <span class="hljs-string">'valid-typeof'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//必须使用合法的typeof的值</span><br>    <span class="hljs-string">'wrap-iife'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'any'</span>], <span class="hljs-comment">//立即执行函数表达式的小括号风格</span><br>    <span class="hljs-string">'yield-star-spacing'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'both'</span>], <span class="hljs-comment">// 强制执行*周围 yield*表达式的间距，两侧都必须有空格</span><br>    <span class="hljs-string">'yoda'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>],<br>    <span class="hljs-string">'prefer-const'</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 使用let关键字声明的变量，但在初始分配后从未重新分配变量，应改为const声明</span><br>    <span class="hljs-string">'object-curly-spacing'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>, &#123; <span class="hljs-attr">objectsInObjects</span>: <span class="hljs-literal">false</span> &#125;],<span class="hljs-comment">// 不允许以对象元素开始和/或以对象元素结尾的对象的大括号内的间距</span><br>    <span class="hljs-string">'array-bracket-spacing'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'never'</span>] <span class="hljs-comment">// 不允许数组括号内的空格</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="2-2-eslint-安装与配置"><a href="#2-2-eslint-安装与配置" class="headerlink" title="2.2 eslint 安装与配置"></a>2.2 eslint 安装与配置</h4><ul>
<li>全局安装 eslint<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">npm install -g eslint<br></code></pre></td></tr></table></figure></li>
<li>全局安装 Prettier<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">npm install -g prettier<br></code></pre></td></tr></table></figure></li>
<li>vscode 插件市场搜索 eslint 和 prettier,下载并安装。<br><img src="/images/eslint.png" alt="图片1.png"><br><img src="/images/prettier.png" alt="图片2.png"></li>
<li>vscode 编辑器 setting.json 中加如下配置：</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* 开启保存时自动格式化 */</span><br><span class="hljs-string">"editor.formatOnSave"</span>: <span class="hljs-literal">true</span>,<br><br><span class="hljs-comment">/* eslint的配置 */</span><br><span class="hljs-string">"eslint.enable"</span>: <span class="hljs-literal">true</span>,<br><span class="hljs-string">"eslint.run"</span>: <span class="hljs-string">"onSave"</span>,<br><span class="hljs-string">"eslint.options"</span>: &#123;<br>   <span class="hljs-string">"extensions"</span>: [<br>     <span class="hljs-string">".js"</span>,<br>     <span class="hljs-string">".vue"</span><br>   ]<br> &#125;,<br> <span class="hljs-string">"editor.codeActionsOnSave"</span>: &#123;<br>   <span class="hljs-string">"source.fixAll.eslint"</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// 保存时自动修复</span><br> &#125;,<br> <span class="hljs-comment">// 关闭 vscode 默认的检查工具</span><br> <span class="hljs-string">"html.validate.scripts"</span>: <span class="hljs-literal">false</span>,<br> <span class="hljs-string">"javascript.validate.enable"</span>: <span class="hljs-literal">false</span>,<br> <span class="hljs-string">"eslint.alwaysShowStatus"</span>: <span class="hljs-literal">true</span>,<br> <span class="hljs-string">"eslint.format.enable"</span>: <span class="hljs-literal">true</span>,<br> <span class="hljs-string">"scss.lint.duplicateProperties"</span>: <span class="hljs-string">"error"</span>,<br> <span class="hljs-string">"css.lint.duplicateProperties"</span>: <span class="hljs-string">"error"</span>,<br> <span class="hljs-string">"less.lint.zeroUnits"</span>: <span class="hljs-string">"error"</span>,<br> <span class="hljs-string">"eslint.validate"</span>: [<br>   <span class="hljs-string">"javascript"</span>,<br>   <span class="hljs-string">"javascriptreact"</span>,<br>   <span class="hljs-string">"vue-html"</span>,<br>   <span class="hljs-string">"vue"</span>,<br>   <span class="hljs-string">"html"</span><br> ],<br><br><span class="hljs-comment">/*  prettier的配置 */</span><br> <span class="hljs-string">"prettier.printWidth"</span>: <span class="hljs-number">120</span>, <span class="hljs-comment">// 超过最大值换行</span><br> <span class="hljs-string">"prettier.tabWidth"</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// 缩进字节数</span><br> <span class="hljs-string">"prettier.useTabs"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 缩进使用tab</span><br> <span class="hljs-string">"prettier.semi"</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// 句尾添加分号</span><br> <span class="hljs-string">"prettier.singleQuote"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 使用单引号代替双引号</span><br> <span class="hljs-string">"prettier.proseWrap"</span>: <span class="hljs-string">"preserve"</span>, <span class="hljs-comment">// 默认值。因为使用了一些折行敏感型的渲染器（如GitHub comment）而按照markdown文本样式进行折行</span><br> <span class="hljs-string">"prettier.arrowParens"</span>: <span class="hljs-string">"avoid"</span>, <span class="hljs-comment">//  (x) =&gt; &#123;&#125; 箭头函数参数只有一个时是否要有小括号。avoid：省略括号</span><br> <span class="hljs-string">"prettier.bracketSpacing"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 在对象，数组括号与文字之间加空格 "&#123; foo: bar &#125;"</span><br> <span class="hljs-string">"prettier.endOfLine"</span>: <span class="hljs-string">"auto"</span>, <span class="hljs-comment">// 结尾是 \n \r \n\r auto</span><br> <span class="hljs-string">"prettier.htmlWhitespaceSensitivity"</span>: <span class="hljs-string">"ignore"</span>,<br> <span class="hljs-string">"prettier.ignorePath"</span>: <span class="hljs-string">".prettierignore"</span>, <span class="hljs-comment">// 不使用prettier格式化的文件填写在项目的.prettierignore文件中</span><br> <span class="hljs-string">"prettier.requireConfig"</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// Require a "prettierconfig" to format prettier</span><br> <span class="hljs-string">"prettier.trailingComma"</span>: <span class="hljs-string">"none"</span>, <span class="hljs-comment">// 在对象或数组最后一个元素后面是否加逗号</span><br><br><span class="hljs-comment">/* 每种语言默认的格式化规则 */</span><br> <span class="hljs-string">"[html]"</span>: &#123;<br>   <span class="hljs-string">"editor.defaultFormatter"</span>: <span class="hljs-string">"esbenp.prettier-vscode"</span><br> &#125;,<br> <span class="hljs-string">"[css]"</span>: &#123;<br>   <span class="hljs-string">"editor.defaultFormatter"</span>: <span class="hljs-string">"esbenp.prettier-vscode"</span><br> &#125;,<br> <span class="hljs-string">"[scss]"</span>: &#123;<br>   <span class="hljs-string">"editor.defaultFormatter"</span>: <span class="hljs-string">"esbenp.prettier-vscode"</span><br> &#125;,<br> <span class="hljs-string">"[javascript]"</span>: &#123;<br>   <span class="hljs-string">"editor.defaultFormatter"</span>: <span class="hljs-string">"esbenp.prettier-vscode"</span><br> &#125;,<br> <span class="hljs-string">"[vue]"</span>: &#123;<br>   <span class="hljs-string">"editor.defaultFormatter"</span>: <span class="hljs-string">"esbenp.prettier-vscode"</span><br> &#125;,<br> <span class="hljs-string">"[json]"</span>: &#123;<br>   <span class="hljs-string">"editor.defaultFormatter"</span>: <span class="hljs-string">"esbenp.prettier-vscode"</span><br> &#125;,<br></code></pre></td></tr></table></figure>

<ul>
<li>使用 vuecli 创建项目时，不选择 lint 选项。<br><img src="/images/vuecli.png" alt="vuecli"></li>
<li>在项目开发依赖中，加入@vue/cli-plugin-eslint、babel-eslint、eslint、eslint-plugin-vue、prettier、prettier-eslint 依赖<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">npm install @vue/cli-plugin-eslint  babel-eslint eslint eslint-plugin-vue prettier prettier-eslint  –-save-dev<br></code></pre></td></tr></table></figure></li>
<li>在项目 package.json 内加入 lint 命令。<img src="/images/lint.png" alt="图片4.png"></li>
<li>开发时，保存文件，即可按 prettier 规则格式化文件，并自动修复可修复的 issue，不能自动修复的，请根据提示，手动修复。</li>
<li>提示：vscode 已设置保存时格式化，但有时并不会格式化文件。已保存的文件还存在报错的，请手动格式化，并修改相应问题后，再次保存。</li>
<li>提交代码前，运行 npm run lint 代码风格检查，确认无误后再进行提交。</li>
</ul>

	</div>
</article>
<div class="footer">
	<div class="copyright">
	©2020
	<a href="https://github.com/rivers-guitar" target="_blank" rel="noopener">rivers-guitar</a>
	Powered by
	<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
	|
	<a href="https://github.com/rivers-guitar/hexo-theme-drops" target="_blank" rel="noopener">hexo-theme-drops</a>
</div>

</div>

		</div>
		<div class="left-lock"></div>
	</body>
</html>
